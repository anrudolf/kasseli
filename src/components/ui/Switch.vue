<template>
  <SwitchGroup class="my-2">
    <div class="flex items-center">
      <Switch
        v-model="enabled"
        :class="enabled ? 'bg-blue-600' : 'bg-gray-200'"
        class="
          relative
          inline-flex
          items-center
          h-6
          transition-colors
          rounded-full
          w-11
          focus:outline-none
          focus:ring-2
          focus:ring-offset-2
          focus:ring-indigo-500
        "
      >
        <span
          :class="enabled ? 'translate-x-6' : 'translate-x-1'"
          class="
            inline-block
            w-4
            h-4
            transition-transform
            transform
            bg-white
            rounded-full
          "
        />
      </Switch>
      <SwitchLabel class="ml-2"><slot></slot></SwitchLabel>
    </div>
  </SwitchGroup>
</template>

<script lang="ts">
import { computed } from "vue";
import { Switch, SwitchGroup, SwitchLabel } from "@headlessui/vue";

export default {
  components: { Switch, SwitchGroup, SwitchLabel },
  props: {
    modelValue: Boolean,
  },
  setup(props, { emit }) {
    const enabled = computed({
      get: () => props.modelValue,
      set: (value) => emit("update:modelValue", value),
    });

    return {
      enabled,
    };
  },
};
</script>
